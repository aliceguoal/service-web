<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>National Cybersecurity Laboratories - Data</title>
        <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" th:href="@{~/css/bootstrap.min.css}" media="screen"/>
        <link rel="stylesheet"  type="text/css" href="static/css/font-awesome/css/font-awesome.min.css" th:href="@{~/css/font-awesome/css/font-awesome.min.css}"/>
        <link rel="stylesheet" type="text/css" href="static/css/main.css" th:href="@{~/css/main.css}"/>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" type="text/css"/>
        <link rel="shortcut icon" href="images/ncl_favicon.png"/>
        
	  <!--[if lt IE 9]>
	    <script type="text/javascript" src="static/js/html5shiv.js" th:src="@{~/js/html5shiv.js}"></script>
	    <script type="text/javascript" src="static/js/respond.min.js" th:src="@{~/js/respond.min.js}"></script>
	  <![endif]-->
	  
        <script type="text/javascript" src="static/js/jquery-1.12.2.min.js" th:src="@{~/js/jquery-1.12.2.min.js}"></script>
        <script type="text/javascript" src="static/js/bootstrap.min.js" th:src="@{~/js/bootstrap.min.js}"></script>
		<script type="text/javascript" src="static/js/main.js" th:src="@{~/js/main.js}"></script>
    </head>
    <body class="mybg">
        <div th:replace="fragments/dashboard_navigation :: dashboardnav">&nbsp;</div>
        <div class="container">
            <div class="row">
            	<h2 th:text="#{dataset.user.contribute}">You contributed the following datasets</h2>
                <table class="table table-responsive" th:if="not ${#lists.isEmpty(datasetOwnedByUserList)}">
                    <thead>
                        <th>
                        	<span th:text="#{data.header.name}">Name</span>
                        	<a href="#" class="data-name-tooltip"><i class="fa fa-question-circle"></i>
                        		<span class="tooltiptext">
                        			<p th:text="#{dataset.user.tooltip.name}">Dataset Name</p>
                        		</span>
                        	</a>
                       	</th>
                        <th>
                        	<span th:text="#{data.header.releaseDate}">Release Date</span>
                        	<a href="#" class="data-name-tooltip"><i class="fa fa-question-circle"></i>
                        		<span class="tooltiptext">
                        			<p th:text="#{dataset.user.tooltip.date}">The date when the dataset is made</p>
                        		</span>
                        	</a>
                        </th>
                        <th><!-- Actions --></th>
                   </thead>
                   <tr th:each="dataset : ${datasetOwnedByUserList}">
	                   	<td th:text="${dataset.datasetName}"></td>
	                   	<td th:text="${dataset.releaseDate}"></td>
	                   	<td>
	                   		<a href="#" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Download">Download</a>
	                   		<a href="#" th:href="@{/data/edit/{datasetId}(datasetId=${dataset.datasetId})}" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Edit"><i class="fa fa-pencil"></i></a>
	                   		<a href="#" th:href="@{/data/remove_dataset/{datasetId}(datasetId=${dataset.datasetId})}" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Are you sure you want to delete this dataset?"><i class="fa fa-trash"></i></a>
	                   	</td>
                   </tr>
                </table>
                <p th:if="${#lists.isEmpty(datasetOwnedByUserList)}" th:text="#{dataset.user.notContribute}">You have not contributed any datasets yet.</p>
                
            	<h2 th:text="#{dataset.user.access}">You have access to the following datasets</h2>
               <table class="table table-responsive" th:if="not ${#lists.isEmpty(datasetAccessibleByUserList)}">
                    <thead>
                        <th>
                        	<span th:text="#{data.header.name}">Name</span>
                       	</th>
                        <th>
                        	<span th:text="#{data.header.owner}">Owner</span>
                        	<a href="#" class="data-name-tooltip"><i class="fa fa-question-circle"></i>
                        		<span class="tooltiptext">
                        			<p th:text="#{dataset.user.tooltip.owner}">The owner of the dataset</p>
                        		</span>
                        	</a>
                        </th>
                        <th>
                        	<span th:text="#{data.header.releaseDate}">Release Date</span>
                        </th>
                        <th><!-- Actions --></th>
                   </thead>
                   <tr th:each="dataset : ${datasetAccessibleByUserList}">
	                   	<td th:text="${dataset.datasetName}"></td>
	                   	<td th:text="${userManager.getNameByUserId(dataset.ownerId)}"></td>
	                   	<td th:text="${dataset.releaseDate}"></td>
	                   	<td>
	                   		<a href="#" class="btn btn-primary" data-toggle="tooltip" data-placement="bottom" title="Download">Download</a>
	                 	</td>
                   </tr>
                </table>
            	<p><a href="#" th:href="@{/data/public}"><button type="button" class="btn btn-default"><i class="fa fa-globe"></i> View Public Datasets</button></a></p>
            	<p><a href="#" th:href="@{/data/contribute}"><button type="button" class="btn btn-primary"><i class="fa fa-plus"></i> Contribute Dataset</button></a></p>
            </div> <!-- row -->
        </div> <!-- container -->
    </body>
</html>